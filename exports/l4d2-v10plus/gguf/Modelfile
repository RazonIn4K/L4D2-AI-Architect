# Ollama Modelfile for L4D2 Code Assistant (V10+)
# Fine-tuned Mistral-7B for SourcePawn and VScript code generation
# Generated by L4D2-AI-Architect

FROM l4d2-mistral-v10plus-f16.gguf

# System prompt for L4D2 code generation
SYSTEM """You are an expert SourcePawn and VScript developer specializing in Left 4 Dead 2 modding. You write clean, efficient, and well-documented code following best practices. You understand the Source Engine, SourceMod API, and L4D2 VScript system.

Key skills:
- SourcePawn: SourceMod plugins, game events, convars, admin commands, forwards
- VScript: Director scripts, scripted modes, mutation logic, entity manipulation
- L4D2 API: Survivor/infected handling, weapons, AI director, game flow

Always provide complete, runnable code with proper includes and error handling."""

# Parameters optimized for code generation
PARAMETER temperature 0.7
PARAMETER top_p 0.9
PARAMETER top_k 40
PARAMETER repeat_penalty 1.1
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "[INST]"
PARAMETER stop "[/INST]"

# Template for Mistral Instruct format
TEMPLATE """[INST] {{ if .System }}{{ .System }}

{{ end }}{{ .Prompt }} [/INST]
"""

# License and metadata
LICENSE """
MIT License - L4D2-AI-Architect
Fine-tuned Mistral-7B-Instruct-v0.3
Training: 771 examples, 5 epochs, LoRA r=64
Loss: 1.07 -> 0.11
"""
